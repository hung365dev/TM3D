// ------------------------------------------------------------------------------
//  <autogenerated>
//      This code was generated by a tool.
//      Mono Runtime Version: 4.0.30319.1
// 
//      Changes to this file may cause incorrect behavior and will be lost if 
//      the code is regenerated.
//  </autogenerated>
// ------------------------------------------------------------------------------
using System;
using utils;
using UnityEngine;


namespace Items
{
	public class InventoryItem
	{
		public int count = 0;
		public ITMItem item;
		
		public string ItemAsString {
			get {
				if(item!=null) {
					int itemTypeToInt = (int) item.Type();
					if(itemTypeToInt==0) {
						Debug.LogError("Item type is zero!");
					}
					string itemID = item.ID().ToString();
					string countS = count.ToString();
					return Base64Compressor.Base64Encode(countS.ToString()+","+itemTypeToInt.ToString()+","+itemID);
				} else {
					return "";
				}

			}
			set {
				string decomp = Base64Compressor.Base64Decode(value);
				string[] splitted = decomp.Split(new char[] {','});
				if(splitted.Length>0&&splitted[0]!=null&&splitted[0]!="") {
					count = Convert.ToInt32(splitted[0]);
					int typeVal = Convert.ToInt32(splitted[1]);
					EItemType type = (EItemType) typeVal;
					int id = Convert.ToInt32(splitted[2]);
					item = ItemLibrary.REF.getItemFromTypeAndID(type,id);
				}

			}
		}
	}
}

